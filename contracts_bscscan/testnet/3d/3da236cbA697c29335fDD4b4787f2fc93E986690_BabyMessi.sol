/*
WELCOME TO BABYMESSI,The first sport fans token that gives you 8% rewards in $PSG token after the duration of 1 match, each 90 minutes 

Our social media
Telegram Group : https://t.me/Babymessi_PSG
Twitter :   https://twitter.com/BabyMessi_PSG
Website : www.BabyMessi.paris

ddddddddddddddddmmmddhooyyysyyyhsssyysyyhhhsyy+oyshy+yhhdyshhhhyshysssyssyyyyyssyyyyyyhddddddddddmmm
mmmmmmmmmmmmmmmmmyhhhyosysyyhhhhyhhhhyysssyyyhy+oyshoyydddsdhhdhyoshyoosyyyyyyhyyyyhhhyhhdmmmmmmmmmm
mmmmmmmmmmmmmmmmhossysoyyyyyyhhhdhhdhhyssyhhyyhsoyyyssyhddhhdyhdhhssyhysssyhhhhhhyyyyyhhhdddmmmmmmmm
mmmmmmmmmmmmmmmddhysyysyhhhysshhdhhdhhhhyhhhhhddsyyyhohddmdhdhhhdhddhyhhhyyyyhhddddddhyyhhdddmmmmmmm
mmmmmmmmmmmmmdddhyhhhhsyhhhdhhhhddhhddddhhdddddddhdhhyhmdmmdddyhhdddmmdhhhhhhhhdddmmmddddhhddddddmmm
mmmmmmmmmmmdddhhysyhhdhhhhhhhddddddddddddddddmdmmmddddhdmmmmdmddhdddmmmmdhhdddddddddmmmmdddddddddddd
ddddddddddhhhyysysyhhhdddhhdddddddddmmddddddddmmmmmmmdddmmmmmmddhdmmmmmmmmdddddhddmdddmmmmmmmdddddhd
hhhhhhhhdddddddddddddddddddddddddmmmmmmmmmmddddddmmmmmddmmmmmmmddddddmmmmmmmmddmddddddddmmmdmmddddhd
hhhhhhdddddhddddddddddddddmmdddmmmmmmmmmmmdddddddddddmddddddddddddddddddddmmmmmmmmmmdmmddhyyhddddhhh
hhhhhhhhhdddddddddddddmmmmmmmmmdmmmdddddhhhyyyhhhhhhhdddhhhhhhyyyhhyhyhhhdddddddddddddddddddmdmmdhsh
hhhhhhhhhhddddmdddddddmmmmdddhhhhhhhyyysoooooooooosssssssssssssosyssyysyyhddddhhdddddddmmmdddmmmmhsy
hhhhhhhhhhhdddmddhhddddmmdyysssssssso++++////////+++++++/////////+++oo+oyhdddddddmmmddmmddhddmdmddyh
hhhhhhhhhhhdhdddhhhdddmdysooo+++++++////::::/:///////:/::::------::://+oshddddddddddmmmmddhhydddddhd
hhhhhhhhhhhhhddhhhhdmmdyo++///::/::/:::::::::::::-:::::--:----------::/+oyhdddddddddmdmddddhdddddddd
hhhhhhhhhhhdddhhhhhdmdso+/::--:--:::--------------------------.-...--::/oyhhdhddhddmmdddddddddddmmdd
hhhhhhhhhddddddhhhhhds+///::---:-:----------------.------------.------::+ydhhhdddhdmmddhddddddddmddd
hhhhhhhhdddhhhhhhhhhs+///:---------..--..----------....-------.....----:ohddhddddhdmdddddddddddddddd
hhhhhhhhddhhhhhhhhhy+///:--..---.......................---------.---:::+shhdhddddddddddddddddddddddd
hhhhhhhhhhhhhhhhhhy////:-............................---------------:/+syhhddhddddddddddddddddddddhd
hhhhhhhhhhhhhhhhhh+::::--..........`..............----..----.---:::::/+syyhhhhdddddddddddddddddddddd
hhhhhhhhhhhhhhhhho--..-------.--..........--..-:---------------::::::/osyyhhhhhhhdddddddddddddddhhhd
hhhhhhhhhyyyyyyys//+/:://///:::-.-::--...----::::--------.-----::::::/+sssyyyyyyhyhhhhhddddddddhhhhd
hhhhhyyyyyyyyyysossyyyhyyysso//:-::///:-:------------.-.-.--..--::::::/+++osssyyysyyyhhhhhhhhhddhhhd
hhhyyyyyyyyyyysssssyhhdddhhys+/-::/+oss++///::::/::::----.......------::::/oossssssoyyyssyyyhhhddhhd
hhhyyyyyyyyyyyys:::/+syyhddhhy:--:/+syhhyysyyyyyysssso//::::----------:::::/+oossssssssssyysyyyhhhhd
hhhyyyyyyyyyyyys-:+shhdhhsosyy/...-/oyhhddddddddhhhyyyyyso+/:--.--------::::/+osssssossssyyssyyhhhhh
hhhhhhhhhyyyhhhy::oyysyyy/-:os.`..-:+osyhddddmmmmddhyssosssso+:-----------:/++ooosossssssssysyyyyhdd
ddddhhhhhhhhhhhh:-:+::::::/++.``..-:+oossyyydddmdhysyhhhyyssso+/::--::-----:/+oooooosooo+ooo+/-..-:o
dddddhhhhhhhhhhh:.-..-::/:/:.```..-/++++/:/osso++++/+oossyso+oo+//:--------:/+oooososo+/::/-..-/syyo
ddddhhhhhhhhhhhy-..`.......```....://///////++//////////:-://::::::---....--:+oooooo+/:----.-//+ooos
ddddhhhhhhhhhhh+...`````..```.`..-::/:--::/:--------.-............---.......--:++++/:-.--::oo:--:/+o
ddddhhhhhhhhhhh-..`````...`......-::::--------......```````````.....-.........--:++/--:::::+:.``.//+
dddddhhhhhhhhhy-.....`..``........--------....-....`````````````.....-.--------:://:/+///:...````-//
ddddddhhhhhhhhs-....``..`........---------.............```````....-------:::://:/+-:/+++sho/:.....:/
dddddhhhhhhhhhy--......`......`..--:--::----....................-----:-::////++++/---.:/ossss+//:../
dddddhhhhhhhhhh/----.:....`.........---:::----.....````.....------:::/:///+++++o+/-..`-o+//:/+++/:./
dddddhhhhhhhhhhs-----//:::://////+/::---:/::::--........----::::://///++++oooooso/-..`.o+-.``.-://./
dddddhhhhhhhhhhh+----:/+++oosyhhddmdhyo++o/://--------:-:::////////++++ooosoosos+/:-..-+/-````-::-:/
ddddhhhhhhhhhhhhy/--://+/:+sssoo+///+oyys/:-:/:-----:://///++++++++++oooosssssoso/:-.::...``.---:/:/
ddddhhhhhhhhhhhhhs:-----:osysssoosso+//::----:/:::://///++++++++++ooooosssyssysoo//-.--.`..---:::-/y
dddhhhhhhhhhhyhyyy+-:/+oyyyhyyyyyyhhssoo/:--.--:::::://+++++++++ooosoosssyysyyss++so//:-...``...:oyh
dhhhhhyyyyyyyyyyyhy//oyyhyhyyyhhyhhdhhhysso///----:::///+++++o+ooooyoosyyhyyysoo+oso:://:--..-:+yyyh
hhhhyyyyyyyyyyyyyhhoossyssooosyo+oyhhhhhhhhyys+/:---::///+++ooooooosyyyyysssyss++oss+::::::/+oyyhhhh
hhhhyyyyyyyyyyyyyyhoooss++++ooooooosoosssyhhhhyso+/:-::://+oosssoossyyyyyyysssso+oossso+//yyhhhhhhhh
hhhhhyyyyyyyyyyyyyyo+osssoosyyyyyyyyyyyyssyysssyyo+/:::/+ooosoyyyyyssyyyyyyyysss+ooooo+/-ohhhhhhhhhh
hhhhyyyyyyyyyyyyysso+syo:-.--::::///////+osssyyysso++//+oossyyyyhyyssyyyyyyyyysoo+/+//:--yhhhhhhhhhh
hhhhyyyyyyyyyyyyysyssss/::::::::::::::::/:/:/oyyssoooooossyyyhyhhyyyyyyyhyyyyyoo++///:--:yhhhhhhhhhh
hhhhyyyyyyyyyyyyyyyhhys+/::/oosssssosoo++//://+syysssssssyhyyyhhhhyyyyshyhhyyyoo++///:--:hhhhhhhhhhh
hhhhhyyyyyyyyyyyysshhhysoo++osssyshysysoo+++//+ossysyysyyyysyyyhhhhhyyyhhhhhysoo++///:--/hhhhhhhhhhh
hhhhhyyyyyyyyyyyyyyyhhyyhys+oosyhhhhssoo+ooooooyyyyyhyyyysssyyyhyhhhhyhdhhyysso++////::-/hhhhhhhhhhh
hhhhhyyyyyyyyyyyyyyyyhhyhhyo//ossyys+:://+oosssyyyhhhhhyyyyyyyyyhhhhhhddhhysooo++////::-/hhhhhhhhhhh
hhhhhyyyyyyyyyyyyyyyyyyhhyssooo++++//::::/++syyyhhhhhhyyysyyhyhhhddddddyysso+oo++////::-/hhhhhhhhhhh
hhhhhyyyyyyyyyyyyyyyyyyhdsssoossossoosoossssoyhhhhhhhhyyyyhhhhhhddhddhysso+o++++++///::-+hhhhhhhhhhh
hhhhhhhyyyyyyyyyyyyyyyhhyyssossyyyyysssyyhhyyyyhhhhhhhyhhhhhdddddddhhyyoo+/++++//////:--+hhhhhhhhhhd
hhhhhhhhhhyyyyyyyyyyyyhhhyssyyyhhhhhyyyyhhhhhhyyhhdhdhhhhhddddddddhhyso+/////+++////:::-+hhhhhhddddd
hhhhhhhhhhhhhyyyyyhhhyhhdysyyyyyyhhhhhhhhhhdddhhhddddddddddddddhhhhysoo+/:///+/////::::-oddhhddddddd
hhhhhhhhhhhhhhhhhhhhhhhhdhyyhyyhhhhhhhyhhhdhddddhddddddddddddddhyyyso++///://+/////::::-oddddddddddd
hhhhhhhhhhhhhhhddddmmmmddo+hhhhdhhddhhhhhhddddddddddddddddddddhhso+/////////+++///:::::-+hhhdddddddd
ddhhhhhhhhhhhddmmmmmmmdds-:+syhdhhhddhddhhdddddddddddddddddddhyso+/:://///+++++///::::-:+dddhhhddddd
ddddhhhhhhhhddddddmmdddd+---:/+ssyyhhhhhhhddddddddddddddddhhyoo+:/://///++++++//:::::::::ydmmdddddhd
ddddhhhhhhhddddddddddddms:---:://++ossyyyhhhhhddddhhhhhhhysoo+///+++//++/++/////:::::::--oddmmmddhs+
ddddddddhhddddddddddmmmmh/:::::///++osssysyyyyyhhyyyyysssso+o+++++++++++/++//::::::::::--:hmmmyshdyo
ddddddhs--ydddddddmmmmmmms::::://://++ossossyyyyysysooo++oo++////++++///+////:::::--::::--+dmmdhdddd
ddddhhhoosshddddmmmmmmmmmd+::::::::///+oooooosooooosoo+o+++/++++++oo+/////:/:::::--::::::-:ymmmmmddm
dddo+ydd/``-ymmdmmmmmmmmmmh/:::::::::::///+/++++o+/ooo+++++++//++/+++++///::::----:::::::::smmmmmddm
ddsshy+.``..-odmmmmmmmmmmmmho/:::-:-----:-::::////+//+/+++++++o++++///////::::---:::::://:/ymmmmddmm
dds/.``..-.```:dmmmmmmmmmmmmmhs/:--------.---::::/::///:/++oooo++/://:::::::::---::::::///+hmmmmdmmm
/.```....``./ydmmmmmmmmmmmmmmmddy+:-------------:::::::::://///////::::::::::----::::/:/:/sdmmmdmmmm
``.....``.+hdmdh+:/sdmmmmmmmmmmdddhs+:---------------:----:::::::::::://////::::://///::/+ydmmmmmmmm
.--..``-ohdmdy/.````-ohdmmmmmmmmmmmmdhs+::--------::::--:::::::::://:////////////////:::/shdmdmmmmmm
-.``./ydmmdy/.````````.+hmmmmmmmmmmmmmddhs+/:::----::::::::::::///////////////++++//:::/oydddmmmmmmm
``-+ydmdhs:.````````````./ydmmmmmmmmmmmmmmdhyo+/:::::///++/////++++//+++/////+ooo+/:::/oyddmmmmmmmmh
/sdmmdy/.``````````````````:shmmmmmmmmmmmmmmmddhso//://++ooo+++++++++++++//+oooo++///+yddmmmmmmmmds:
dmdho:.``````````````````````-+yddmdmmmmmmmmmmmmmmdhysooooooososooooo+++//+oooo++++syddmmmmmmmmmd+`.
ho:.````````````````````````````-+ydmmmmmmmmmmmmmmmmmmmdddhhyyyssssso+////+oosssyhddmmmmmmmmmmds-``.
.``````````````````````````````````./sddmmmmmmmmmmmmmmmmmmmmmmmddddhhyyyyyhhdddddmmmmmmmmmmmds-````.
``````````````````````````````````````.:+ydmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmh+-``````.
``````````````````````````````````````````.:+ydmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmho:`````````.




                                                                                                    
                                     `.-:/+ossyyyhhhhyysso+/:-`                                     
                               `.:+syhhhhhhhhyyyyyyyyyhhddddddhhyo/-`                               
                           `-/syhhhhyso/:--..----------..-:/+oshddddhy+-`                           
                        .:oyhhhyo/-.--:/+osyyyyyyhhhhhyyyyso/::--:+shdddhs/.                        
                     `:oyhhyo/-.-:+syyhhhhhhhhhs:::::::/shddddhhyo/:--+shdddy/.                     
                   .+yhhyo:..:osyhhs/:+yhhhhhhho `+++++. :ddddddsyddys/--/shddho-`                  
                `-oyhys:../oyyyyyyy/ ``-oyhhhhho `hhhhh+ `ddddd+ .hddddhy+--/ydmdy:`                
               -ohhyo-.:oyssssyyyyy- ++. :syyhho  -----`.shhdds``sdddddhddds/.:sdmmy:`              
             .ohhyo-`/syo-````:syyy. +o/` `/yyh+ `ooo. :hhhhhy` +dddds:--/ohdy+.:sdmms-             
           `/yhhs-`/yys:`.oso. :sss` `.-/+: .+yo`.hhhy-`/hhhh- :ddddd` :o/..+ddh+.:ydmd+`           
          .shhy/`:shy/``+yyso. +sss  ossssso+oyyyyhhhhho+shh/`-hddhhdo`.sdh+`-hddh:./dmmh.          
         -hhhs.`ohhhs- `/ss: .+ssoo`.ssssssoo+///////+osyhhhysyddy.-hdh/`:hdy+hdddds.-ymmd/         
        /hhh+`-yhhhhyyo- ```+ssooooooo+/-.``.-.`////`.:-.`.:+shddd+`.oddy..yddddddmmh:.ommmo        
       /hhh/`/hhhhhhyyyyo:``:osoooo/-``-:+osss:.ssss--hhhys+:..:ohdy/.-+o-.oddddddmmmd+./dmmo       
      /hhh:`+hhhhhhyyyyyyso:-+so+:`.-+oossssss.-osss:`hhhhhhhhs/../ydho///odddddddmmmmd+./mmmo      
     :hhh/`/hhhhhhhhyyyyyssssso:`./ooooossssss :ooss/ shhhhhhhhhhs:./yddddddddddddmmmmmm+.+mmm/     
    .hhh+`:hhhhhhhhhyyyyyssss/`.+ooooosssssss/ +oosso /hhhhhhhhdddhs-.+dddddddddddmmmmmmd/.ommm-    
    shhy.-yhhhhhhhhhhyyyyyys-`:ossssssssssssy..ooooss.`yhhhhhhhdddddh+.:hdddddddddmmmmmmmd--hmmh    
   -hhh:`shhhhhhhhhhhhyyyys.`+ssssssssssssyy+ :ooooss+ /hhhhhhdddddddds.-yddddddddmmmmmmmms-/mmm/   
   sdds`:hhhhhhhhhhhhhhhyy.`oyyysssssssyyyys``+ooossss.`yhhhhhdddddddddy..hdddddddmmmmmmmmm:-ymmh   
  .ddd:`shhhhhhhhhhhhhhhy:`+yyyyyyyyyyyyyyy: /oooossss+`-hhhhddddddddddds.:dddddddmmmmmmmmms-/mmm-  
  /ddh..hhhhhhhhhhhhhhhho :hhyyyyyyyyyyyyy+ -oooossssss:`/hhddddddddddddd/`odddddmmmmmmmmmmm--dmmo  
  sdds`:dhhhhhhhhhhhhhhh-`shhhhhhhhhhhhhho`.ooosssssssys-`+hdddddddddddddh.-dddddmmmmmmmmmmm/-ymmh  
  hddo`+dddhhhhhhhhhhhhh`.hhhhhhhhhhhhhho`.ooossssssyyyys.`+dddddddddddddd:.hdddmmmmmmmmmmmm+-smNm  
  ddd+`oddddhhhhhhhhhhhs`:hhhhhhhhhhhhh+``+oooooosssssssso.`/ddddddddddddd/.sdddmmmmmmmmmmmmo-omNm` 
  ddd+`odddddhhhhhhhhhhs`:hhhhhhhhhhhy: -///////+++++++++++-`-hddddddddddd+.sddmmmmmmmmmmmmmo-oNNm` 
  hddo.+ddddddddhhhhhhhh`-hhhhhhhhhho.`:sssssssyyyyyyyyyyyyy/`.odddddddddd/.ydmmmmmmmmmmmmmm+-sNNm  
  sddy./ddddddddddhhhhhh-`yhhhhhhhy:`.+sssssyyyyyyyyyyyyyyyyyo.`:ydddddddd.-dmmmmmmmmmmmmmmm/-yNNh  
  +ddd.-hddddddddddddddho`/hhhhhy/.`:ssssyyyyso++++++osyyyyyyyy/../ydddddo.+mmmmmmmmmmmmmmmm--mNNs  
  .ddd/.sdddddddddddddddh-.ydhy/.`-osyyyys+::/+osyyyso/:/oyyyyhys:../yddh--dmmmmmmmmmmmmmmmy-+NNN:  
   yddy./ddddddddddddddddy.-o:.`-+syyyys/.:ohddddhhddddhs:-+yhhhhhs:..:s:-ymmmmmmmmmmmmmmmm/:yNNd   
   :ddd:.sddddddddddddddddy.`.:osyyyyyo-.+hdddddh++hdddddds.-shhhhhhs/..-smmmmmmmmmmmmmmmmy-/mNN+   
    sddy.:hddddddddddddddddy-.oyyyyyys.`oddddddds//sddddddds.-yhhhhhhs--ymmmmmmmmmmmmmmmmd::hNNd`   
    .dddo.+dddddddddddddddddh/./syyyy:`.ddddhosyy++yysshdddd:.:hhhhy+-/hmmmmmmmmmmmmmmmmm+:sNNm-    
     /ddd+.oddddddddddddddddddy:-+syy.`:dddds+yhyyyyhyoydddd/..hhyo-:sdmmmmmmmmmmmmmmmmmo:+mNN+     
      +ddd/-oddddddddddsshdddddds:-/o...hddddhhddyydddhddddd-..s/-:sdmmmmmmhdmmmmmmmmmmo:+mNNs      
       oddd/-+dddddddyhoysydddddddho:...:hdddddddhhdddddddd/...:ohmmmmmmmhhhssmmmmmmNm+:+mNNy       
        +dddo-/hddddddos/hddhddddddddhs/-.:/+osyyyyyysso+:-:/shmmmmmmmmhdhsyddmmmmmNd/:oNNNs        
         /dmdy-:ydddddddhss//hddddddddddddyso+///::///+osydmmmmmmmmmdydmyymddmmmmmNy:/hNNN+         
          .hmmd+-+hddddddddh+dyodsddddddddddddddddddddmmmmmmmmmmmdymd+oyhmdmmmmmNd+:omNNd-          
           `odmdy/:ohmdddddddhsdooyyydyhdddddddmmmmmmmmmmmmmddmshh+ym+mmmmmmmmNdo:+hNNNs`           
             -ymmds/:ohmmmmmmddhyd/oddyosdmmmmmmdhydmhyyhmoss+mhoyhhdmmmmmmmNdo//ymNNh:             
              `:ymmds/:+ydmmmmmmmmhdmdodmmmhhmmd+hysmoshdmyohodmhmmmmmmmmNmh+/+ymNNd/`              
                `/ymmdh+//ohdmmmmmmmmmdmmmmddmmmohyomysyydmhmmmmmmmmmmNmhs//ohmNNh+`                
                  `:sdmmdy+//oyddmmmmmmmmmmmmmmmmdddmmdmmmmmmmmmmmmmdyo//oymNNmy:`                  
                     .+hdmmdyo//+oyhddmmmmmmmmmmmmmmmmmmmmmmmmmddyo+/+ohdNNmdo-                     
                        -+ydmmmhyo+//++syhhdddddmmmmmmdddhhyso++/+shdmNNmho-`                       
                           .:ohdmmmmdhyso+////+++++++++///+osyhdmNNNmds/.                           
                               .:+shdmmmmmmmmdddhhhddddmmNNNNmmmdy+:.                               
                                    `.:/+syhhdmmmmmmmmddhyso/:-`                                    
                                                 ``                                                
*/




pragma solidity ^0.8.4;
// SPDX-License-Identifier: Unlicensed
import "./Context.sol";
import "./SafeMath.sol";
import "./IERC20.sol";
import "./Ownable.sol";
import "./Address.sol";
import "./IUniswapV2Router02.sol";
import "./IUniswapV2Factory.sol";
import "./DividendTracker.sol";

contract BabyMessi is Context, IERC20, Ownable {
    using SafeMath for uint256;
    using Address for address;
    DividendTracker public dividendTracker;
    mapping (address => uint256) private _rOwned;
    mapping (address => uint256) private _tOwned;
    mapping (address => mapping (address => uint256)) private _allowances;

    mapping (address => bool) private _isExcludedFromFee;
    mapping (address => bool) private _isExcludedFromAntiWhale;
    mapping (address => bool) private _isBlackList;

    mapping (address => bool) private _isExcluded;
    address[] private _excluded;
   
    uint256 private constant MAX = ~uint256(0);
    uint256 private _tTotal;
    uint256 private _rTotal;
    uint256 private _tFeeTotal;
    uint256 public _countTokens;
    
    bool private swapping;
    string private _name;
    string private _symbol;
    uint256 private _decimals;
    uint256 public _totalFeeBuy;
    uint256 public _totalFeeSell;
    
    uint256 public _taxFeeBuy;
    uint256 public _taxFeeSell;
    uint256 private _previousTaxFeeBuy;
    uint256 private _previousTaxFeeSell;
    
    uint256 public _liquidityFeeBuy;
    uint256 public _liquidityFeeSell;
    uint256 private _previousLiquidityFeeBuy;
    uint256 private _previousLiquidityFeeSell;

    uint256 public  _marketingFee;
    uint256 public  _teamFeeBuy;
    uint256 public  _teamFeeSell;
    uint256 public  _rewardFee;
    uint256 public  _rewardFeeSell;
    uint256 private _previousMarketingFee;
    uint256 private _previousTeamFeeBuy;
    uint256 private _previousTeamFeeSell;
    uint256 private _previousRewardFee;
    uint256 private _previousRewardFeeSell;

    IUniswapV2Router02 public immutable uniswapV2Router;
    address public immutable uniswapV2Pair;
    address public _marketingWallet;
    address public _teamWallet;
    

    address public  TokenReward = 0xBc5609612b7C44BEf426De600B5fd1379DB2EcF1; // PSG
    address public deadWallet = 0x000000000000000000000000000000000000dEaD;
    bool inSwapAndLiquify;
    bool public swapAndLiquifyEnabled = true;
    
    uint256 public _maxTxAmountSell;
    uint256 public _maxTxAmountBuy;
    uint256 public _maxTxAmountTransfer;
    uint256 public numTokensSell;
    
    // use by default 300,000 gas to process auto-claiming dividends
    uint256 public gasForProcessing = 300000;
    
    event UpdateDividendTracker(address indexed newAddress, address indexed oldAddress);
    event UpdateUniswapV2Router(address indexed newAddress, address indexed oldAddress);
    event SetAutomatedMarketMakerPair(address indexed pair, bool indexed value);
    event GasForProcessingUpdated(uint256 indexed newValue, uint256 indexed oldValue);
    event SendDividends(
    	uint256 tokensSwapped,
    	uint256 amount
    );
    event ProcessedDividendTracker(
    	uint256 iterations,
    	uint256 claims,
        uint256 lastProcessedIndex,
    	bool indexed automatic,
    	uint256 gas,
    	address indexed processor
    );
    
    event MinTokensBeforeSwapUpdated(uint256 minTokensBeforeSwap);
    event SwapAndLiquifyEnabledUpdated(bool enabled);
    event SwapAndLiquify(
        uint256 tokensSwapped,
        uint256 ethReceived,
        uint256 tokensIntoLiqudity
    );
    
    modifier lockTheSwap {
        inSwapAndLiquify = true;
        _;
        inSwapAndLiquify = false;
    }
    
    constructor ()  {
        _name = "Baby Messi";
        _symbol = "BABYMESSI";
        _decimals = 9;
        _tTotal = 1000000000000 * 10 ** _decimals; //_supply satoshis
        _rTotal = (MAX - (MAX % _tTotal));
        _taxFeeBuy = 0;
        _taxFeeSell = 8;
        _marketingFee = 3;
        _teamFeeBuy = 1;
        _teamFeeSell= 12;
        _rewardFee= 8;
        _rewardFeeSell=0;
        _liquidityFeeBuy = 1;
        _liquidityFeeSell = 4;
        _previousTaxFeeBuy = _taxFeeBuy;
        _previousTaxFeeSell = _taxFeeSell;
        _previousLiquidityFeeBuy = _liquidityFeeBuy;
        _previousLiquidityFeeSell = _liquidityFeeSell;
        _previousMarketingFee = _marketingFee;
        _previousTeamFeeBuy = _teamFeeBuy;
        _previousTeamFeeSell = _teamFeeSell;
        _previousRewardFee = _rewardFee;
        _previousRewardFeeSell = _rewardFeeSell;
        _maxTxAmountBuy = 1000000000000 * 10 ** _decimals;
        _maxTxAmountSell = 1000000000000 * 10 ** _decimals;
        _maxTxAmountTransfer = 1000000000000 * 10 ** _decimals;
        numTokensSell = 1376467739 * 10 ** _decimals;
        _rOwned[_owner] = _rTotal;
        _isExcludedFromAntiWhale[_owner] = true;
        _marketingWallet = 0x8C2EeDeBB3D85C9ee4868d25ffd290d7B2e12f42;
        _teamWallet = 0xb47EcB71b30fE205570E93C1A85b765B1D9FF4c8;
        _totalFeeBuy= _liquidityFeeBuy.add(_marketingFee).add(_teamFeeBuy).add(_rewardFee);
        _totalFeeSell= _liquidityFeeSell.add(_marketingFee).add(_teamFeeSell).add(_rewardFeeSell);
        dividendTracker = new DividendTracker(TokenReward);
        _countTokens = 0;
        
        
        // Pancake MainNet 
        IUniswapV2Router02 _uniswapV2Router = IUniswapV2Router02(0xD99D1c33F9fC3444f8101754aBC46c52416550D1);//0x10ED43C718714eb63d5aA57B78B54704E256024E);
         // Create a uniswap pair for this new token
        uniswapV2Pair = IUniswapV2Factory(_uniswapV2Router.factory())
            .createPair(address(this), _uniswapV2Router.WETH());

        // set the rest of the contract variables
        uniswapV2Router = _uniswapV2Router;
        
        //exclude owner and this contract from fee
        _isExcludedFromFee[_owner] = true;
        _isExcludedFromFee[address(this)] = true;
        _isExcludedFromFee[_marketingWallet] = true;
        _isExcludedFromFee[_teamWallet] = true;
    

        excludeFromReward(deadWallet);
        
        
 //     exclude from receiving dividends
        dividendTracker.excludeFromDividends(address(dividendTracker));
        dividendTracker.excludeFromDividends(address(this));
        dividendTracker.excludeFromDividends(_owner);
        dividendTracker.excludeFromDividends(deadWallet);
        dividendTracker.excludeFromDividends(address(_uniswapV2Router));

        emit Transfer(address(0), _owner, _tTotal);
        
 
    }
    
    function name() public view returns (string memory) {
        return _name;
    }

    function symbol() public view returns (string memory) {
        return _symbol;
    }

    function decimals() public view returns (uint256) {
        return _decimals;
    }

    function totalSupply() public view override returns (uint256) {
        return _tTotal;
    }

    function balanceOf(address account) public view override returns (uint256) {
        if (_isExcluded[account]) return _tOwned[account];
        return tokenFromReflection(_rOwned[account]);
    }

    function transfer(address recipient, uint256 amount) public override returns (bool) {
        _transfer(_msgSender(), recipient, amount);
        return true;
    }

    function allowance(address owner, address spender) public view override returns (uint256) {
        return _allowances[owner][spender];
    }

    function approve(address spender, uint256 amount) public override returns (bool) {
        _approve(_msgSender(), spender, amount);
        return true;
    }

    function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
        _transfer(sender, recipient, amount);
        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));
        return true;
    }

    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {
        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));
        return true;
    }

    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {
        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, "ERC20: decreased allowance below zero"));
        return true;
    }

    function isExcludedFromReward(address account) public view returns (bool) {
        return _isExcluded[account];
    }

    function totalFees() public view returns (uint256) {
        return _tFeeTotal;
    }

    function deliver(uint256 tAmount) public {
        address sender = _msgSender();
        require(!_isExcluded[sender], "Excluded addresses cannot call this function");
        (uint256 rAmount,,,,,,) = _getValues(tAmount);
        _rOwned[sender] = _rOwned[sender].sub(rAmount);
        _rTotal = _rTotal.sub(rAmount);
        _tFeeTotal = _tFeeTotal.add(tAmount);
    }

    function reflectionFromToken(uint256 tAmount, bool deductTransferFee) public view returns(uint256) {
        require(tAmount <= _tTotal, "Amount must be less than supply");
        if (!deductTransferFee) {
            (uint256 rAmount,,,,,,) = _getValues(tAmount);
            return rAmount;
        } else {
            (,uint256 rTransferAmount,,,,,) = _getValues(tAmount);
            return rTransferAmount;
        }
    }

    function tokenFromReflection(uint256 rAmount) public view returns(uint256) {
        require(rAmount <= _rTotal, "Amount must be less than total reflections");
        uint256 currentRate =  _getRate();
        return rAmount.div(currentRate);
    }

    function excludeFromReward(address account) public onlyOwner() {
        require(!_isExcluded[account], "Account is already excluded");
        if(_rOwned[account] > 0) {
            _tOwned[account] = tokenFromReflection(_rOwned[account]);
        }
        _isExcluded[account] = true;
        _excluded.push(account);
    }

    function includeInReward(address account) external onlyOwner() {
        require(_isExcluded[account], "Account is already excluded");
        for (uint256 i = 0; i < _excluded.length; i++) {
            if (_excluded[i] == account) {
                _excluded[i] = _excluded[_excluded.length - 1];
                _tOwned[account] = 0;
                _isExcluded[account] = false;
                _excluded.pop();
                break;
            }
        }
    }

    function excludeFromFee(address account) public onlyOwner {
        _isExcludedFromFee[account] = true;
    }
    
    function includeInFee(address account) public onlyOwner {
        _isExcludedFromFee[account] = false;
    }
    
    function addBlackList(address account) public onlyOwner {
        _isBlackList[account] = true;
    }
    function removeBlackList(address account) public onlyOwner {
        _isBlackList[account] = false;
    }
    
    function excludeFromAntiWhale(address account) public onlyOwner {
        _isExcludedFromAntiWhale[account] = true;
    }
    
    function includeFromAntiWhale(address account) public onlyOwner {
        _isExcludedFromAntiWhale[account] = false;
    }
    
    function setMarketingFee(uint256 marketingFee) external onlyOwner() {
        _totalFeeSell = _totalFeeSell.add(marketingFee).sub(_marketingFee);
        _totalFeeBuy = _totalFeeBuy.add(marketingFee).sub(_marketingFee);
        _marketingFee = marketingFee;
    }
    
    function setTeamFeeBuy(uint256 teamFee) external onlyOwner() {
        _totalFeeBuy = _totalFeeBuy.add(teamFee).sub(_teamFeeBuy);
        _teamFeeBuy = teamFee;
    }
    
    function setTeamFeeSell(uint256 teamFee) external onlyOwner() {
        _totalFeeSell = _totalFeeSell.add(teamFee).sub(_teamFeeSell);
        _teamFeeSell = teamFee;
    }
    
    function setRewardFeeBuy(uint256 rewardFee) external onlyOwner() {
        _totalFeeBuy = _totalFeeBuy.add(rewardFee).sub(_rewardFee);
        _rewardFee = rewardFee;
    }
    function setRewardFeeSell(uint256 rewardFee) external onlyOwner() {
        _totalFeeSell = _totalFeeSell.add(rewardFee).sub(_rewardFeeSell);
        _rewardFeeSell = rewardFee;
    }
    
    function setTaxFeePercentBuy(uint256 taxFee) external onlyOwner() {
        _taxFeeBuy = taxFee;
    }
    function setTaxFeePercentSell(uint256 taxFee) external onlyOwner() {
        _taxFeeSell = taxFee;
    }

    function setMarketingWallet(address mkwallet) external onlyOwner(){
        _marketingWallet = mkwallet;
    }
    
    function setTeamWallet(address tmwallet) external onlyOwner(){
        _teamWallet = tmwallet;
    }
    
    function setLiquidityFeePercentBuy(uint256 liquidityFee) external onlyOwner() {
        _totalFeeBuy = _totalFeeBuy.add(liquidityFee).sub(_liquidityFeeBuy);
        _liquidityFeeBuy = liquidityFee;
    }
    function setLiquidityFeePercentSell(uint256 liquidityFee) external onlyOwner() {
        _totalFeeSell = _totalFeeSell.add(liquidityFee).sub(_liquidityFeeSell);
        _liquidityFeeSell = liquidityFee;
    }
    function setNumTokensSell(uint256 swapNumber) public onlyOwner {
        numTokensSell = swapNumber * 10 ** _decimals;
    }
   
    function setMaxTansactionAmountBuy(uint256 maxTxAmount) public onlyOwner {
        _maxTxAmountBuy = maxTxAmount  * 10 ** _decimals;
    }
    function setMaxTansactionAmountSell(uint256 maxTxAmount) public onlyOwner {
        _maxTxAmountSell = maxTxAmount  * 10 ** _decimals;
    }
    function setMaxTansactionAmountTransfer(uint256 maxTxAmount) public onlyOwner {
        _maxTxAmountTransfer = maxTxAmount  * 10 ** _decimals;
    }

    function setSwapAndLiquifyEnabled(bool _enabled) public onlyOwner {
        swapAndLiquifyEnabled = _enabled;
        emit SwapAndLiquifyEnabledUpdated(_enabled);
    }
    
     //to recieve BNB from uniswapV2Router when swaping
    receive() external payable {}

    function _reflectFee(uint256 rFee, uint256 tFee) private {
        _rTotal = _rTotal.sub(rFee);
        _tFeeTotal = _tFeeTotal.add(tFee);
    }

    function _getValues(uint256 tAmount) private view returns (uint256, uint256, uint256, uint256, uint256, uint256, uint256) {
        (uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity, uint256 tMarketing) = _getTValues(tAmount);
        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee) = _getRValues(tAmount, tFee, tLiquidity, tMarketing, _getRate());
        return (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing);
    }
    
    function _getValuesSell(uint256 tAmount) private view returns (uint256, uint256, uint256, uint256, uint256, uint256, uint256) {
        (uint256 tTransferAmount, uint256 tFee, uint256 tLiquidity, uint256 tMarketing) = _getTValuesSell(tAmount);
        (uint256 rAmount, uint256 rTransferAmount, uint256 rFee) = _getRValues(tAmount, tFee, tLiquidity, tMarketing, _getRate());
        return (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing);
    } 
    function _getValuesReward(uint256 tAmount ,uint256 tTransferAmount, uint256 rTransferAmount) private view returns (uint256, uint256, uint256, uint256) {
        uint256 tReward; uint256 tTeam;
        (tTransferAmount, tReward, tTeam) = _getTValuesReward(tAmount, tTransferAmount);
        rTransferAmount= _getRValuesReward(rTransferAmount, tReward, tTeam, _getRate());
        return (rTransferAmount, tTransferAmount, tReward, tTeam);
    } 
    
    function _getValuesRewardSell(uint256 tAmount ,uint256 tTransferAmount, uint256 rTransferAmount) private view returns (uint256, uint256, uint256, uint256) {
        uint256 tReward; uint256 tTeam;
        (tTransferAmount, tReward, tTeam) = _getTValuesRewardSell(tAmount, tTransferAmount);
        rTransferAmount = _getRValuesReward(rTransferAmount, tReward, tTeam, _getRate());
        return (rTransferAmount, tTransferAmount, tReward, tTeam);
    } 

    function _getTValues(uint256 tAmount) private view returns (uint256, uint256, uint256, uint256) {
        uint256 tFee = calculateTaxFee(tAmount);
        uint256 tLiquidity = calculateLiquidityFee(tAmount);
        uint256 tMarketing = calculateMarketingFee(tAmount);
        uint256 tTransferAmount = tAmount.sub(tFee).sub(tLiquidity).sub(tMarketing);
        return (tTransferAmount, tFee, tLiquidity, tMarketing);
    }
    function _getTValuesSell(uint256 tAmount) private view returns (uint256, uint256, uint256, uint256) {
        uint256 tFee = calculateTaxFeeSell(tAmount);
        uint256 tLiquidity = calculateLiquidityFeeSell(tAmount);
        uint256 tMarketing = calculateMarketingFee(tAmount);
        uint256 tTransferAmount = tAmount.sub(tFee).sub(tLiquidity).sub(tMarketing);
        return (tTransferAmount, tFee, tLiquidity, tMarketing);
    }
    function _getTValuesReward(uint256 tAmount, uint256 tTransferAmount) private view returns (uint256, uint256, uint256) {
        uint256 tReward = calculateRewardFee(tAmount);
        uint256 tTeam = calculateTeamFeeBuy(tAmount);
        tTransferAmount = tTransferAmount.sub(tReward).sub(tTeam);
        return (tTransferAmount, tReward, tTeam);
    }
    
    function _getTValuesRewardSell(uint256 tAmount, uint256 tTransferAmount) private view returns (uint256, uint256, uint256) {
        uint256 tReward = calculateRewardFeeSell(tAmount);
        uint256 tTeam = calculateTeamFeeSell(tAmount);
        tTransferAmount = tTransferAmount.sub(tReward).sub(tTeam);
        return (tTransferAmount, tReward, tTeam);
    }

    function _getRValues(uint256 tAmount, uint256 tFee, uint256 tLiquidity, uint256 tMarketing , uint256 currentRate) private pure returns (uint256, uint256, uint256) {
        uint256 rAmount = tAmount.mul(currentRate);
        uint256 rFee = tFee.mul(currentRate);
        uint256 rLiquidity = tLiquidity.mul(currentRate);
        uint256 rMarketing = tMarketing.mul(currentRate);
        uint256 rTransferAmount = rAmount.sub(rFee).sub(rLiquidity).sub(rMarketing);
        return (rAmount, rTransferAmount, rFee);
    }
    
    function _getRValuesReward(uint256 rTransferAmount, uint256 tReward, uint256 tTeam, uint256 currentRate) private pure returns (uint256) {
        uint256 rReward = tReward.mul(currentRate);
        uint256 rTeam = tTeam.mul(currentRate);
        rTransferAmount = rTransferAmount.sub(rReward).sub(rTeam);
        return (rTransferAmount);
    }

    function _getRate() private view returns(uint256) {
        (uint256 rSupply, uint256 tSupply) = _getCurrentSupply();
        return rSupply.div(tSupply);
    }

    function _getCurrentSupply() private view returns(uint256, uint256) {
        uint256 rSupply = _rTotal;
        uint256 tSupply = _tTotal;      
        for (uint256 i = 0; i < _excluded.length; i++) {
            if (_rOwned[_excluded[i]] > rSupply || _tOwned[_excluded[i]] > tSupply) return (_rTotal, _tTotal);
            rSupply = rSupply.sub(_rOwned[_excluded[i]]);
            tSupply = tSupply.sub(_tOwned[_excluded[i]]);
        }
        if (rSupply < _rTotal.div(_tTotal)) return (_rTotal, _tTotal);
        return (rSupply, tSupply);
    }
    
    function _takeLiquidity(uint256 tLiquidity) private {
        uint256 currentRate =  _getRate();
        uint256 rLiquidity = tLiquidity.mul(currentRate);
        _rOwned[address(this)] = _rOwned[address(this)].add(rLiquidity);
        if(_isExcluded[address(this)])
            _tOwned[address(this)] = _tOwned[address(this)].add(tLiquidity);
    }
    
    function _takeMarketingFee(uint256 tMarketing) private {
        uint256 currentRate =  _getRate();
        uint256 rMarketing = tMarketing.mul(currentRate);
        _rOwned[_marketingWallet] = _rOwned[_marketingWallet].add(rMarketing);
        if(_isExcluded[_marketingWallet])
            _tOwned[_marketingWallet] = _tOwned[_marketingWallet].add(tMarketing);
    }
    
    
    function calculateTaxFee(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_taxFeeBuy).div(
            10**2
        );
    }
    function calculateTaxFeeSell(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_taxFeeSell).div(
            10**2
        );
    }
    function calculateLiquidityFee(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_liquidityFeeBuy).div(
            10**2
        );
    }
    function calculateLiquidityFeeSell(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_liquidityFeeSell).div(
            10**2
        );
    }

    function calculateMarketingFee(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_marketingFee).div(
            10**2
        );
    }
    
    function calculateTeamFeeBuy(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_teamFeeBuy).div(
            10**2
        );
    }
    
    function calculateTeamFeeSell(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_teamFeeSell).div(
            10**2
        );
    }

    function calculateRewardFee(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_rewardFee).div(
            10**2
        );
    }
    
    function calculateRewardFeeSell(uint256 _amount) private view returns (uint256) {
        return _amount.mul(_rewardFeeSell).div(
            10**2
        );
    }
    
    function removeAllFee() private {
        if(_taxFeeBuy == 0 && _liquidityFeeBuy == 0 && _taxFeeSell == 0 && _liquidityFeeSell == 0 && _marketingFee == 0 && _teamFeeSell == 0  && _teamFeeBuy == 0 && _rewardFee == 0 && _rewardFeeSell==0) return;
        
        _previousTaxFeeBuy = _taxFeeBuy;
        _previousTaxFeeSell = _taxFeeSell;
        _previousLiquidityFeeBuy = _liquidityFeeBuy;
        _previousLiquidityFeeSell = _liquidityFeeSell;
        _previousMarketingFee = _marketingFee;
        _previousTeamFeeBuy = _teamFeeBuy;
        _previousTeamFeeSell = _teamFeeSell;
        _previousRewardFee = _rewardFee;
        _previousRewardFeeSell = _rewardFeeSell;
        
        _taxFeeBuy = 0;
        _taxFeeSell = 0;
        _liquidityFeeBuy = 0;
        _liquidityFeeSell = 0;  
        _marketingFee = 0;
        _teamFeeBuy = 0;
        _teamFeeSell = 0;
        _rewardFee = 0;
        _rewardFeeSell = 0;
        
    }
    
    function restoreAllFee() private {
        _taxFeeBuy = _previousTaxFeeBuy;
        _taxFeeSell = _previousTaxFeeSell;
        _liquidityFeeBuy = _previousLiquidityFeeBuy;
        _liquidityFeeSell = _previousLiquidityFeeSell;
        _marketingFee = _previousMarketingFee;
        _teamFeeBuy = _previousTeamFeeBuy;
        _teamFeeSell = _previousTeamFeeSell;
        _rewardFee = _previousRewardFee;
        _rewardFeeSell = _previousRewardFeeSell;
    }
    
    function isExcludedFromFee(address account) public view returns(bool) {
        return _isExcludedFromFee[account];
    }
    
    function isBlackList(address account) public view returns(bool) {
        return _isBlackList[account];
    }    
    
    function isExcludedFromAntiWhale(address account) public view returns(bool) {
        return _isExcludedFromAntiWhale[account];
    }

    function _approve(address owner, address spender, uint256 amount) private {
        require(owner != address(0), "ERC20: approve from the zero address");
        require(spender != address(0), "ERC20: approve to the zero address");

        _allowances[owner][spender] = amount;
        emit Approval(owner, spender, amount);
    }

    function _transfer(
        address from,
        address to,
        uint256 amount
    ) private {
        require(from != address(0), "transfer from the zero address");
        require(to != address(0), "transfer to the zero address");
        require(amount > 0, "Transfer amount must be greater than zero");
        require(!(isBlackList(from) ) , "User origin in blackList");
        require(!(isBlackList(to) ) , "User destination in blackList");
        if(!(isExcludedFromAntiWhale(from) || isExcludedFromAntiWhale(to))) { // white list of antiwhale excluded from maxAmount
            if(to == uniswapV2Pair){
                require(amount <= _maxTxAmountSell, "Transfer amount exceeds the maxTxAmount sell.");
            }
            else if(from == uniswapV2Pair){
                require(amount <= _maxTxAmountBuy, "Transfer amount exceeds the maxTxAmount buy.");
            }
            
            else{
                require(amount <= _maxTxAmountTransfer, "Transfer amount exceeds the maxTxAmount.");

            }
        }
        
     
        uint256 contractTokenBalance = balanceOf(address(this));
        
        bool overMinTokenBalance = contractTokenBalance >= numTokensSell;
        if (
            overMinTokenBalance &&
            !swapping &&
            !inSwapAndLiquify &&
            to == uniswapV2Pair &&
            swapAndLiquifyEnabled
        ) {
            swapping = true;
            // = numTokensSell;
 
            uint256 marketingTokens = contractTokenBalance.sub(_countTokens).mul(_marketingFee).div(_totalFeeBuy).add( (_countTokens).mul(_marketingFee).div(_totalFeeSell) );
            if (marketingTokens != 0) swapAndSendToFee(marketingTokens, _marketingWallet);
            
            uint256 liquidityTokens = contractTokenBalance.sub(_countTokens).mul(_liquidityFeeBuy).div(_totalFeeBuy).add((_countTokens).mul(_liquidityFeeSell).div(_totalFeeSell));
            if (liquidityTokens != 0) swapAndLiquify(liquidityTokens);
            
            uint256 sellTokens = contractTokenBalance.sub(_countTokens).mul(_rewardFee).div(_totalFeeBuy).add( (_countTokens).mul(_rewardFeeSell).div(_totalFeeSell) );
            if (sellTokens != 0) swapAndSendDividends(sellTokens);
            
            uint256 teamTokens = balanceOf(address(this));
            if (teamTokens != 0) swapAndSendToFee(teamTokens, _teamWallet);
            
            _countTokens = 0;
            swapping = false;
            
        }
        
        //indicates if fee should be deducted from transfer
        bool takeFee = true;
        
        //if any account belongs to _isExcludedFromFee account then remove the fee
        if(_isExcludedFromFee[from] || _isExcludedFromFee[to]){
            takeFee = false;
        }
        
        //transfer amount, it will take tax, burn, liquidity fee
        _tokenTransfer(from,to,amount,takeFee);
        
        try dividendTracker.setBalance(payable(from), balanceOf(from)) {} catch {}
        try dividendTracker.setBalance(payable(to), balanceOf(to)) {} catch {}

        if(!swapping) {
	    	uint256 gas = gasForProcessing;

	    	try dividendTracker.process(gas) returns (uint256 iterations, uint256 claims, uint256 lastProcessedIndex) {
	    		emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, true, gas, tx.origin);
	    	}
	    	catch {

	    	}
        }
    }

    function swapAndLiquify(uint256 contractTokenBalance) private lockTheSwap {
        // split the contract balance into halves
        uint256 half = contractTokenBalance.div(2);
        uint256 otherHalf = contractTokenBalance.sub(half);
        uint256 initialBalance = address(this).balance;
        swapTokensForEth(half); // <- this breaks the ETH -> HATE swap when swap+liquify is triggered

        // how much ETH did we just swap into?
        uint256 newBalance = address(this).balance.sub(initialBalance);

        // add liquidity to uniswap
        addLiquidity(otherHalf, newBalance);
        
        emit SwapAndLiquify(half, newBalance, otherHalf);
    }

    function swapTokensForEth(uint256 tokenAmount) private {
        // generate the uniswap pair path of token -> weth
        address[] memory path = new address[](2);
        path[0] = address(this);
        path[1] = uniswapV2Router.WETH();

        _approve(address(this), address(uniswapV2Router), tokenAmount);

        // make the swap
        uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(
            tokenAmount,
            0, // accept any amount of ETH
            path,
            address(this),
            block.timestamp
        );
    }

    function addLiquidity(uint256 tokenAmount, uint256 ethAmount) private {
        // approve token transfer to cover all possible scenarios
        _approve(address(this), address(uniswapV2Router), tokenAmount);

        // add the liquidity
        uniswapV2Router.addLiquidityETH{value: ethAmount}(
            address(this),
            tokenAmount,
            0, // slippage is unavoidable
            0, // slippage is unavoidable
            owner(),
            block.timestamp
        );
    }
    
    function swapAndSendDividends(uint256 tokens) private{
        swapTokensForTokenReward(tokens);
        uint256 dividends = IERC20(TokenReward).balanceOf(address(this));
        bool success = IERC20(TokenReward).transfer(address(dividendTracker), dividends);

        if (success) {
            dividendTracker.distributeTokenRewardDividends(dividends);
            emit SendDividends(tokens, dividends);
        }
    }

    //this method is responsible for taking all fee, if takeFee is true
    function _tokenTransfer(address sender, address recipient, uint256 amount,bool takeFee) private {
        if(!takeFee)
            removeAllFee();
        
        if (_isExcluded[sender] && !_isExcluded[recipient]) {
            _transferFromExcluded(sender, recipient, amount);
        } else if (!_isExcluded[sender] && _isExcluded[recipient]) {
            _transferToExcluded(sender, recipient, amount);
        } else if (!_isExcluded[sender] && !_isExcluded[recipient]) {
            _transferStandard(sender, recipient, amount);
        } else if (_isExcluded[sender] && _isExcluded[recipient]) {
            _transferBothExcluded(sender, recipient, amount);
        } else {
            _transferStandard(sender, recipient, amount);
        }
        
        if(!takeFee)
            restoreAllFee();
    }

    function _transferStandard(address sender, address recipient, uint256 tAmount) private {
        uint256 rAmount;uint256 rTransferAmount; uint256 rFee; uint256 tTransferAmount; uint256 tFee; uint256 tLiquidity; uint256 tMarketing; uint256 tReward; uint256 tTeam;
        if(recipient == uniswapV2Pair){
            (rAmount,  rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValuesSell(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesRewardSell(tAmount, tTransferAmount, rTransferAmount);
            _countTokens = _countTokens.add(tLiquidity).add(tMarketing).add(tReward);

        }
        else{
            (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValues(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesReward(tAmount, tTransferAmount, rTransferAmount);
        }
        
       
        _rOwned[sender] = _rOwned[sender].sub(rAmount);
        _rOwned[recipient] = _rOwned[recipient].add(rTransferAmount);
        _takeLiquidity(tLiquidity.add(tMarketing).add(tReward).add(tTeam));
        _reflectFee(rFee, tFee);
        emit Transfer(sender, recipient, tTransferAmount);
    }

    function _transferToExcluded(address sender, address recipient, uint256 tAmount) private {
        uint256 rAmount;uint256 rTransferAmount; uint256 rFee; uint256 tTransferAmount; uint256 tFee; uint256 tLiquidity; uint256 tMarketing; uint256 tReward; uint256 tTeam;
        if(recipient == uniswapV2Pair){
            (rAmount,  rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValuesSell(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesRewardSell(tAmount, tTransferAmount, rTransferAmount);
            _countTokens = _countTokens.add(tLiquidity).add(tMarketing).add(tReward);

        }
        else{
            (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValues(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesReward(tAmount, tTransferAmount, rTransferAmount);
        }
       
        _rOwned[sender] = _rOwned[sender].sub(rAmount);
        _tOwned[recipient] = _tOwned[recipient].add(tTransferAmount);
        _rOwned[recipient] = _rOwned[recipient].add(rTransferAmount);           
        _takeLiquidity(tLiquidity.add(tMarketing).add(tReward).add(tTeam));
        _reflectFee(rFee, tFee);
        emit Transfer(sender, recipient, tTransferAmount);
    }

    function _transferFromExcluded(address sender, address recipient, uint256 tAmount) private {
        uint256 rAmount;uint256 rTransferAmount; uint256 rFee; uint256 tTransferAmount; uint256 tFee; uint256 tLiquidity; uint256 tMarketing; uint256 tReward; uint256 tTeam;
        if(recipient == uniswapV2Pair){
            (rAmount,  rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValuesSell(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesRewardSell(tAmount, tTransferAmount, rTransferAmount);
            _countTokens = _countTokens.add(tLiquidity).add(tMarketing).add(tReward);

        }
        else{
            (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValues(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesReward(tAmount, tTransferAmount, rTransferAmount);
        }
       
        _tOwned[sender] = _tOwned[sender].sub(tAmount);
        _rOwned[sender] = _rOwned[sender].sub(rAmount);
        _rOwned[recipient] = _rOwned[recipient].add(rTransferAmount);   
        _takeLiquidity(tLiquidity.add(tMarketing).add(tReward).add(tTeam));
        _reflectFee(rFee, tFee);
        emit Transfer(sender, recipient, tTransferAmount);
    }
    
    function _transferBothExcluded(address sender, address recipient, uint256 tAmount) private {
        uint256 rAmount;uint256 rTransferAmount; uint256 rFee; uint256 tTransferAmount; uint256 tFee; uint256 tLiquidity; uint256 tMarketing; uint256 tReward; uint256 tTeam;
        if(recipient == uniswapV2Pair){
            (rAmount,  rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValuesSell(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesRewardSell(tAmount, tTransferAmount, rTransferAmount);
            _countTokens = _countTokens.add(tLiquidity).add(tMarketing).add(tReward);

        }
        else{
            (rAmount, rTransferAmount, rFee, tTransferAmount, tFee, tLiquidity, tMarketing) = _getValues(tAmount);
            (rTransferAmount, tTransferAmount, tReward, tTeam) = _getValuesReward(tAmount, tTransferAmount, rTransferAmount);
        }
       
        _tOwned[sender] = _tOwned[sender].sub(tAmount);
        _rOwned[sender] = _rOwned[sender].sub(rAmount);
        _tOwned[recipient] = _tOwned[recipient].add(tTransferAmount);
        _rOwned[recipient] = _rOwned[recipient].add(rTransferAmount);
        _takeLiquidity(tLiquidity.add(tMarketing).add(tReward).add(tTeam));
        _reflectFee(rFee, tFee);
        emit Transfer(sender, recipient, tTransferAmount);
    }
    
    
    function RescueBNB() public onlyOwner {
        payable(_owner).transfer(address(this).balance);
    
    }

    //Dividens Functions
    function updateDividendTracker(address newAddress, address newTokenAddress) public onlyOwner {
        require(newAddress != address(dividendTracker), "The dividend tracker already has that address");

        DividendTracker newDividendTracker = DividendTracker(payable(newAddress));

        require(newDividendTracker.owner() == address(this), "The new dividend tracker must be owned by the BabyMessi token contract");
        TokenReward = newTokenAddress;
        newDividendTracker.excludeFromDividends(address(newDividendTracker));
        newDividendTracker.excludeFromDividends(address(this));
        newDividendTracker.excludeFromDividends(owner());
        newDividendTracker.excludeFromDividends(deadWallet);
        newDividendTracker.excludeFromDividends(address(uniswapV2Router));

        emit UpdateDividendTracker(newAddress, address(dividendTracker));

        dividendTracker = newDividendTracker;
    }

    function updateGasForProcessing(uint256 newValue) public onlyOwner {
        require(newValue >= 200000 && newValue <= 500000, "gasForProcessing must be between 200,000 and 500,000");
        require(newValue != gasForProcessing, "Cannot update gasForProcessing to same value");
        emit GasForProcessingUpdated(newValue, gasForProcessing);
        gasForProcessing = newValue;
    }
    
        function updateClaimWait(uint256 claimWait) external onlyOwner {
        dividendTracker.updateClaimWait(claimWait);
    }

    function getClaimWait() external view returns(uint256) {
        return dividendTracker.claimWait();
    }
    
    function updateMinTokensForReward(uint256 amount) public onlyOwner{
        return dividendTracker.updateMinTokensForReward(amount);
    }
    

    function getTotalDividendsDistributed() external view returns (uint256) {
        return dividendTracker.totalDividendsDistributed();
    }
    
    function withdrawableDividendOf(address account) public view returns(uint256) {
    	return dividendTracker.withdrawableDividendOf(account);
  	}

	function dividendTokenBalanceOf(address account) public view returns (uint256) {
		return dividendTracker.balanceOf(account);
	}

	function excludeFromDividends(address account) external onlyOwner{
	    dividendTracker.excludeFromDividends(account);
	}

    function getAccountDividendsInfo(address account)
        external view returns (
            address,
            int256,
            int256,
            uint256,
            uint256,
            uint256,
            uint256,
            uint256) {
        return dividendTracker.getAccount(account);
    }

	function getAccountDividendsInfoAtIndex(uint256 index)
        external view returns (
            address,
            int256,
            int256,
            uint256,
            uint256,
            uint256,
            uint256,
            uint256) {
    	return dividendTracker.getAccountAtIndex(index);
    }

	function processDividendTracker(uint256 gas) external {
		(uint256 iterations, uint256 claims, uint256 lastProcessedIndex) = dividendTracker.process(gas);
		emit ProcessedDividendTracker(iterations, claims, lastProcessedIndex, false, gas, tx.origin);
    }

    function claim() external {
		dividendTracker.processAccount(payable(msg.sender), false);
    }

    function getLastProcessedIndex() external view returns(uint256) {
    	return dividendTracker.getLastProcessedIndex();
    }

    function getNumberOfDividendTokenHolders() external view returns(uint256) {
        return dividendTracker.getNumberOfTokenHolders();
    }
    
    function swapTokensForTokenReward(uint256 tokenAmount) private {

        address[] memory path = new address[](3);
        path[0] = address(this);
        path[1] = uniswapV2Router.WETH();
        path[2] = TokenReward;

        _approve(address(this), address(uniswapV2Router), tokenAmount);

        // make the swap
        uniswapV2Router.swapExactTokensForTokensSupportingFeeOnTransferTokens(
            tokenAmount,
            0,
            path,
            address(this),
            block.timestamp
        );
    }
    
   function swapAndSendToFee(uint256 tokens, address wallet) private  {

        uint256 initialDOLLARBalance = IERC20(TokenReward).balanceOf(address(this));
        swapTokensForTokenReward(tokens);
        uint256 newBalance = (IERC20(TokenReward).balanceOf(address(this))).sub(initialDOLLARBalance);
        IERC20(TokenReward).transfer(wallet, newBalance);
    }
}